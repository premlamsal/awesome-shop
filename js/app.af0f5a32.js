(function(t){function e(e){for(var a,o,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},r={app:0},s=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"80e3b393","chunk-0f66b46d":"3fd00c97","chunk-207b00ad":"9803c111","chunk-2a5892d3":"5ddd7504","chunk-2adf8d59":"6e09d20f","chunk-2d0d4395":"8610f53f","chunk-5c08e88d":"946f2b26","chunk-8aaf8f12":"b378c8a6","chunk-b66f372c":"ef52a819","chunk-c36b0b48":"a47652e2","chunk-d3662638":"37df8232","chunk-fc384000":"4034d6cb"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-0f66b46d":1,"chunk-207b00ad":1,"chunk-2a5892d3":1,"chunk-2adf8d59":1,"chunk-5c08e88d":1,"chunk-8aaf8f12":1,"chunk-b66f372c":1,"chunk-c36b0b48":1,"chunk-d3662638":1,"chunk-fc384000":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"31d6cfe0","chunk-0f66b46d":"5e2fd797","chunk-207b00ad":"9f2b6ede","chunk-2a5892d3":"45638ca4","chunk-2adf8d59":"f353a9b9","chunk-2d0d4395":"31d6cfe0","chunk-5c08e88d":"cfd72709","chunk-8aaf8f12":"e3726f85","chunk-b66f372c":"d21dcf84","chunk-c36b0b48":"323c2c6f","chunk-d3662638":"80de9e4b","chunk-fc384000":"cf25ba99"}[t]+".css",r=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete o[t],f.parentNode.removeChild(f),n(s)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"1cbf":function(t,e,n){},"1f25":function(t,e,n){"use strict";var a=n("3963"),o=n.n(a);o.a},3963:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("router-view"),n("Footer")],1)},r=[],s=n("5530"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"container"},[n("b-navbar",{attrs:{toggleable:"md",type:"light",variant:""}},[n("b-navbar-toggle",{attrs:{target:"nav-text-collapse"}}),n("b-navbar-brand",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("b-icon",{attrs:{icon:"handbag"}}),t._v(" Online Shop ")],1)],1),n("b-collapse",{attrs:{id:"nav-text-collapse","is-nav":""}},[n("div",{staticClass:"search-bar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"form-control search-input",attrs:{type:"text",placeholder:"Search products.."},domProps:{value:t.search_key},on:{input:function(e){e.target.composing||(t.search_key=e.target.value)}}}),n("button",{on:{click:function(e){return t.makeSearch()}}},[n("b-icon",{attrs:{icon:"search"}})],1)]),n("b-navbar-nav",{},[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/mybooks",right:""}},[t._v(" Upload ")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/cart",right:""}},[t.totalItemsInCart>0?n("b-icon",{attrs:{icon:"cart-fill"}}):n("b-icon",{attrs:{icon:"cart"}}),n("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.totalItemsInCart))])],1)],1),t.isLoggedIn?n("b-dropdown",{staticClass:"m-md-1",attrs:{id:"dropdown-right",right:"",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("b-icon",{staticStyle:{color:"#DC143C"},attrs:{icon:"person"}})]},proxy:!0}],null,!1,1112494117)},[n("b-dropdown-item",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/profile"}},[n("b-icon",{attrs:{icon:"person-circle"}}),t._v(" Profile ")],1)],1),n("b-dropdown-item",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/transactions"}},[n("b-icon",{attrs:{icon:"arrow-left-right"}}),t._v(" Transactions ")],1)],1),n("b-dropdown-item",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/mybooks"}},[n("b-icon",{attrs:{icon:"collection"}}),t._v(" My Books ")],1)],1),n("b-dropdown-item",{on:{click:t.logout}},[n("b-icon",{attrs:{icon:"box-arrow-right"}}),t._v(" Log Out ")],1)],1):n("div",{staticClass:"login-register"},[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/login"}},[n("b-icon",{attrs:{icon:"people"}},[t._v(" Login")])],1)],1)],1)],1)],1)],1)],1),n("Category",{attrs:{categories:t.categories_list}}),n("vue-progress-bar")],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-custom"},[n("div",{staticClass:"inside-nav"},[n("div",{staticClass:"container"},t._l(t.categories,(function(e){return n("div",{key:e.id,staticClass:"menu-item"},[0!=e.childs.length?n("div",{staticClass:"dropdown-custom"},[n("button",{staticClass:"dropbtn-custom",on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(" "+t._s(e.name)+" "),n("i",{staticClass:"fa fa-caret-down"})]),n("div",{staticClass:"dropdown-content-custom"},[n("div",{staticClass:"has-sub-menu"},[n("SubCategory",{attrs:{childs:e.childs}})],1)])]):n("div",{staticClass:"nodrop-down"},[n("a",{attrs:{href:"javascript:"},on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))])])])})),0)])])},l=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row-custom"},t._l(t.childs,(function(e){return n("div",{key:e.id,staticClass:"column-custom"},[n("h3",{staticStyle:{cursor:"pointer"},on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))]),e.childs.length>0?n("div",{staticClass:"more-child"},t._l(e.childs,(function(e){return n("div",{key:e.id,staticClass:"more-child-items"},[n("a",{attrs:{href:"javascript:"},on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))])])})),0):t._e()])})),0)])},f=[],h={name:"SubCategory",props:{childs:Array},components:{},methods:{fromCatMenu:function(t){this.$router.push({name:"Category",params:{slug:t}})}}},m=h,p=(n("ecbc"),n("2877")),b=Object(p["a"])(m,d,f,!1,null,"7486cea3",null),g=b.exports,k={name:"Category",components:{SubCategory:g},props:{categories:Array},methods:{fromCatMenu:function(t){this.$router.push({name:"Category",params:{slug:t}})}}},v=k,C=(n("9bf9"),Object(p["a"])(v,u,l,!1,null,null,null)),_=C.exports,y=n("2f62"),w={name:"NavBar",components:{Category:_},data:function(){return{categories_list:[],isLoggedIn:!1,search_key:""}},computed:Object(s["a"])({},Object(y["b"])({totalItemsInCart:"cart/getTotalItemsInCart",hasToken:"auth/getToken"})),created:function(){this.getCategories()},watch:{$route:function(){this.checkIsLogIn()}},methods:{makeSearch:function(){var t=this.search_key;""!=t&&this.$router.push({name:"Search",params:{key:t}})},getCategories:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/getCategoriesMenu").then((function(e){t.categories_list=e.data.data})).catch((function(t){console.log(t)}))},checkIsLogIn:function(){var t=this;this.hasToken&&this.$store.dispatch("auth/checkAuthToken").then((function(){t.isLoggedIn=!0})).catch((function(e){401==e.response.status&&t.logout()}))},logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/login"),t.$http.defaults.headers.common={Authorization:""},t.isLoggedIn=!1})).catch((function(){}))}}},S=w,A=(n("7c58"),Object(p["a"])(S,i,c,!1,null,"5ac59fce",null)),I=A.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",{staticClass:"site-footer mt-4"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 col-md-6"},[n("h6",[t._v("About")]),n("p",{staticClass:"text-justify"},[t._v("Awesome Shop "),n("i",[t._v("CODE WANTS TO BE SIMPLE ")]),t._v(" is an initiative to help the upcoming programmers with the code. Scanfcode focuses on providing the most efficient code or snippets as the code wants to be simple. We will help programmers build up concepts in different programming languages that include C, C++, Java, HTML, CSS, Bootstrap, JavaScript, PHP, Android, SQL and Algorithm.")])]),n("div",{staticClass:"col-xs-6 col-md-3"},[n("h6",[t._v("Categories")]),n("ul",{staticClass:"footer-links"},[n("li",[n("a",{attrs:{href:"#"}},[t._v("C")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("UI Design")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("PHP")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Java")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Android")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Templates")])])])]),n("div",{staticClass:"col-xs-6 col-md-3"},[n("h6",[t._v("Quick Links")]),n("ul",{staticClass:"footer-links"},[n("li",[n("a",{attrs:{href:"#"}},[t._v("About Us")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Contact Us")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Contribute")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Privacy Policy")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Sitemap")])])])])]),n("hr")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8 col-sm-6 col-xs-12"},[n("p",{staticClass:"copyright-text"},[t._v("Copyright © 2020 All Rights Reserved by "),n("a",{attrs:{href:"#"}},[t._v("Awesome Shop")]),t._v(". Developed by PremLamsal. ")])]),n("div",{staticClass:"col-md-4 col-sm-6 col-xs-12"},[n("ul",{staticClass:"social-icons"},[n("li",[n("a",{staticClass:"facebook",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-facebook"})])]),n("li",[n("a",{staticClass:"twitter",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-twitter"})])]),n("li",[n("a",{staticClass:"dribbble",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-dribbble"})])]),n("li",[n("a",{staticClass:"linkedin",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-linkedin"})])])])])])])])])}],$={},O=$,P=(n("1f25"),Object(p["a"])(O,x,T,!1,null,"cbe2a9fe",null)),j=P.exports,B={components:{NavBar:I,Footer:j},data:function(){return{items:[{text:"Admin",href:"#"},{text:"Manage",href:"#"},{text:"Library",active:!0}]}},computed:Object(s["a"])({},Object(y["b"])({totalItemsInCart:"cart/getTotalItemsInCart"})),created:function(){}},E=B,L=(n("034f"),Object(p["a"])(E,o,r,!1,null,null,null)),q=L.exports,M=(n("45fc"),n("b0c0"),n("d3b7"),n("8c4f")),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("div",{staticClass:"cat-slider-box"},[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("slider",{attrs:{sliders:t.sliders}})],1)],1)],1),n("b-row",[n("b-col",[null!=t.books.data?n("div",[n("h5",{staticClass:"mt-2 pt-2 theme-color",staticStyle:{"text-align":"center"}},[t._v(" Popular ")]),n("div",{staticClass:"col"},[n("div",{staticClass:"book-container"},[n("bookSlider",{attrs:{books:t.books.data}})],1)])]):t._e()])],1),n("b-row",[n("b-col",[n("div",{staticClass:"category-card-container"},[null!=t.categories?n("h5",[t._v("Start with Categories")]):t._e(),n("div",{staticClass:"category-card"},t._l(t.categories,(function(e){return n("ul",{key:e.id},[n("li",[n("a",{attrs:{href:"javascript:"},on:{click:function(n){return t.showByCat(e.slug)}}},[t._v(t._s(e.name))])])])})),0)])])],1),n("b-row",[n("b-col",[null!=t.books.data?n("h5",{staticClass:"mt-2 pt-2 theme-color",staticStyle:{"text-align":"center"}},[t._v(" More Books ")]):t._e(),n("div",{staticClass:"book-panel"},[n("div",{staticClass:"book-panel-insider"},[n("book",{attrs:{books:t.books.data}})],1),n("div",{staticClass:"inner-btn mb-4"},[null!=t.pagination.next_link?n("b-button",{staticClass:"loadmore-btn",attrs:{variant:"default"},on:{click:function(e){return t.loadBooks(t.pagination.next_link)}}},[n("b-icon",{attrs:{icon:"arrow-down"}}),t._v("Load More ")],1):t._e()],1)]),n("div")])],1)],1)],1)},F=[],U=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vueper-slides",{staticClass:"no-shadow",attrs:{autoplay:"","visible-slides":4,"slide-ratio":.4,"dragging-distance":200,breakpoints:{800:{visibleSlides:2,slideMultiple:2}}}},t._l(t.books,(function(e){return n("vueper-slide",{key:e.id,scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"book-card"},[n("div",{staticClass:"book-image-outer-wrapper"},[n("div",{staticClass:"book-image-frame"},[n("img",{attrs:{src:e.image[0],alt:e.name}})])]),n("h6",[t._v(t._s(e.name))]),0!=e.discount?n("div",[n("p",{staticClass:"book-price"},[n("s",[t._v("$ "+t._s(e.price))])]),n("p",{staticClass:"book-offer-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price-e.discount))])]):n("div",[n("p",{staticClass:"book-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))])]),n("p",{staticStyle:{"text-align":"center"}},[n("b-button",{on:{click:function(n){return t.addToCart(e.id,e.name,e.price-e.discount,e.image[0])}}},[n("b-icon",{attrs:{icon:"cart","font-scale":"1.5"}})],1),n("b-button",{on:{click:function(n){return t.bookDetail(e.slug)}}},[n("b-icon",{attrs:{icon:"list","font-scale":"1.5"}})],1)],1)])]},proxy:!0}],null,!0)})})),1)],1)}),D=[],N=(n("ac1f"),n("5319"),n("b1b5")),H=(n("2ec8"),{props:{books:Array},components:{VueperSlides:N["VueperSlides"],VueperSlide:N["VueperSlide"]},methods:{bookDetail:function(t){this.$router.replace({path:"/book/".concat(t)})},addToCart:function(t,e,n,a){var o=this,r={bookId:t,quantity:1,name:e,price:n,img:a};this.$store.dispatch("cart/addBookToCart",r).then((function(t){o.$toast.success(t,{timeout:4e3})})).catch((function(t){o.$toast.error(t,{timeout:4e3})}))},removeFromCart:function(t){this.$store.dispatch("cart/removeBookFromCart",t)}}}),J=H,R=(n("f94d"),Object(p["a"])(J,U,D,!1,null,"5dd59146",null)),V=R.exports,z=n("c71c"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-carousel",{staticClass:"home-slider",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"400"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.sliders,(function(e){return n("b-carousel-slide",{key:e.id,scopedSlots:t._u([{key:"img",fn:function(){return[n("img",{staticClass:"d-block w-100",attrs:{width:"1024",height:"400",src:e.image}})]},proxy:!0}],null,!0)},[n("div",{staticClass:"slider-overlap-caption",attrs:{alt:"image slot"}},[n("h1",[t._v(t._s(e.heading))]),n("p",[t._v(t._s(e.paragraph))]),n("b-button",{staticClass:"greenBtn",attrs:{variant:"default"}},[n("b-icon",{attrs:{icon:"cursor"}}),t._v("Click me ")],1)],1)])})),1)],1)},G=[],K={data:function(){return{slide:0,sliding:null}},props:{sliders:Array},created:function(){},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}}},X=K,Y=(n("b511"),Object(p["a"])(X,W,G,!1,null,null,null)),Z=Y.exports,tt={name:"Home",components:{Slider:Z,BookSlider:V,Book:z["a"]},data:function(){return{books:{data:[]},sliders:[],categories:[],next_page:"",more_data:"",pagination:{}}},computed:Object(s["a"])({},Object(y["b"])({})),created:function(){this.loadCategories(),this.loadBooks(),this.loadSliders()},mounted:function(){},methods:{loadSliders:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/sliders").then((function(e){console.log(e.data),t.sliders=e.data.data})).catch((function(t){console.log(t.response)}))},showByCat:function(t){this.$router.push({name:"Category",params:{slug:t}})},loadCategories:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/categories/random").then((function(e){t.categories=e.data.data})).catch((function(e){t.$toast.error(e.response.data.message,{timeout:4e3})}))},makePagination:function(t,e){var n={current_page:t.current_page,last_page:t.last_page,from_page:t.from,to_page:t.to,total_pages:t.total,path_page:t.path+"?page=",first_link:e.first,last_link:e.last,prev_link:e.prev,next_link:e.next};this.pagination=n},pushBook:function(t){this.books.data.push(t)},loadBooks:function(t){var e=this;this.$Progress.start(),t=t||"https://eshop.test/api/frontend/books",this.$http.get(t).then((function(t){t.data.data.forEach((function(t){e.books.data.push(t)})),e.books.meta=t.data.meta,e.books.links=t.data.links,e.makePagination(t.data.meta,t.data.links),e.$Progress.finish()})).catch((function(t){console.log(t),e.$Progress.fail()}))}}},et=tt,nt=(n("cccb"),Object(p["a"])(et,Q,F,!1,null,null,null)),at=nt.exports,ot=n("0e44"),rt=n("bc3a"),st=n.n(rt);st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var it={token:localStorage.getItem("token")||"",user:{},isAuthenticated:!1},ct={getToken:function(t){return t.token},getUser:function(t){return t.user},getIsAuthenticated:function(t){return t.isAuthenticated}},ut={setToken:function(t,e){t.token=e},destroyToken:function(t){t.token=""},setUser:function(t,e){t.user=e.user},setIsAuthenticated:function(t,e){t.isAuthenticated=e}},lt={login:function(t,e){return new Promise((function(n,a){st.a.defaults.headers.common["Accept"]="application/json",st.a.post("https://eshop.test/api/frontend/login",e).then((function(e){var a=e.data.access_token,o=e.data.user;t.commit("setToken",a),t.commit("setUser",o),t.commit("setIsAuthenticated",!0),localStorage.setItem("token",a),n(e)})).catch((function(t){console.log(t),a(t)}))}))},register:function(t,e){return new Promise((function(n,a){st.a.defaults.headers.common["Accept"]="application/json",st.a.post("https://eshop.test/api/frontend/register",e).then((function(e){var a=e.data.access_token,o=e.data.user;t.commit("setToken",a),t.commit("setUser",o),t.commit("setIsAuthenticated",!0),localStorage.setItem("token",a),n(e)})).catch((function(t){console.log(t),a(t)}))}))},checkAuthToken:function(t){return new Promise((function(e,n){var a=t.getters.getToken;st.a.defaults.headers.common={Authorization:"Bearer ".concat(a)},st.a.defaults.headers.common["Accept"]="application/json",st.a.get("https://eshop.test/api/frontend/getUser").then((function(n){var a=n.data.data[0];t.commit("setUser",a),t.commit("setIsAuthenticated",!0),e(n)})).catch((function(e){t.logout,t.commit("setIsAuthenticated",!1),n(e)}))}))},logout:function(t){return new Promise((function(e){t.commit("destroyToken"),localStorage.removeItem("token"),delete st.a.defaults.headers.common["Authorization"],e()}))}},dt={namespaced:!0,state:it,getters:ct,actions:lt,mutations:ut};n("7db0"),n("c975"),n("13d5"),n("a434");st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var ft={cart:[]},ht={getBooks:function(t){return t.books},getTotalBook:function(t){return t.books.length},getCartItems:function(t){return t.cart},getTotalItemsInCart:function(t){return t.cart.reduce((function(t,e){return t+parseFloat(e.bookQuantity)}),0)},getGrandTotalCart:function(t){return t.cart.reduce((function(t,e){return t+parseFloat(e.bookQuantity)*parseFloat(e.bookPrice)}),0)}},mt={pushCart:function(t,e){var n={bookId:e.bookId,bookName:e.name,bookPrice:e.price,bookImage:e.img,bookQuantity:e.quantity,bookLineTotal:e.price*e.quantity};t.cart.push(n)},increaseQuantityInCart:function(t,e){e.bookQuantity++,e.bookLineTotal=e.bookQuantity*e.bookPrice},decreaseQuantityInCart:function(t,e){e.bookQuantity--,e.bookLineTotal=e.bookQuantity*e.bookPrice},popCart:function(t,e){var n=t.cart.find((function(t){return t.bookId==e}));t.cart.splice(t.cart.indexOf(n),1)}},pt={addBookToCart:function(t,e){return new Promise((function(n,a){var o,r=t.state.cart.find((function(t){return t.bookId==e.bookId}));o=r?r.bookQuantity:0,st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",st.a.defaults.headers.common["Accept"]="application/json",st.a.get("https://eshop.test/api/frontend/checkstock/"+e.bookId).then((function(s){s.data.instock_quantity>=o+1?r?(t.commit("increaseQuantityInCart",r),n("Book quantity incremented.")):(t.commit("pushCart",e),n("Added Item to Cart")):a("Sorry no stock availabe for this book.")})).catch((function(t){a(t.response.data)}))}))},decrementTheCart:function(t,e){var n=t.state.cart.find((function(t){return t.bookId==e}));n.bookQuantity>1&&t.commit("decreaseQuantityInCart",n)},removeBookFromCart:function(t,e){var n=t.state.cart.find((function(t){return t.bookId==e}));n.bookQuantity>0&&t.commit("popCart",e)},incrementTheCart:function(t,e){return new Promise((function(n,a){var o=t.state.cart.find((function(t){return t.bookId==e})),r=o.bookQuantity;st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",st.a.defaults.headers.common["Accept"]="application/json",st.a.get("https://eshop.test/api/frontend/checkstock/"+e).then((function(e){e.data.instock_quantity>=r+1?o.bookQuantity>0&&(t.commit("increaseQuantityInCart",o),n("Book quantity incremented.")):a("Sorry no stock availabe for this book.")})).catch((function(t){a(t)}))}))}},bt={namespaced:!0,state:ft,getters:ht,actions:pt,mutations:mt};a["default"].use(y["a"]);var gt=new y["a"].Store({plugins:[Object(ot["a"])()],modules:{auth:dt,cart:bt}}),kt=gt;a["default"].use(M["a"]);var vt=[{path:"/",name:"Home",component:at,meta:{requiresAuth:!1}},{path:"/book/:slug",name:"Book",component:function(){return n.e("chunk-0f66b46d").then(n.bind(null,"1253"))},meta:{requiresAuth:!1}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/cart",name:"Cart",component:function(){return n.e("chunk-c36b0b48").then(n.bind(null,"b789"))},meta:{requiresAuth:!1}},{path:"/checkout",name:"Checkout",component:function(){return n.e("chunk-8aaf8f12").then(n.bind(null,"da3a"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("chunk-2adf8d59").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-b66f372c").then(n.bind(null,"73cf"))}},{path:"/customer/profile",name:"CustomerProfile",component:function(){return n.e("chunk-fc384000").then(n.bind(null,"8dd2"))},meta:{requiresAuth:!0}},{path:"/customer/transactions",name:"Transactions",component:function(){return n.e("chunk-207b00ad").then(n.bind(null,"8c99"))},meta:{requiresAuth:!0}},{path:"/verify/esewa",name:"EsewaVerification",component:function(){return n.e("chunk-2d0d4395").then(n.bind(null,"5fb0"))},meta:{requiresAuth:!0}},{path:"/customer/mybooks",name:"MyBooks",component:function(){return n.e("chunk-d3662638").then(n.bind(null,"9e2c"))},meta:{requiresAuth:!0}},{path:"/category/:slug",name:"Category",component:function(){return n.e("chunk-2a5892d3").then(n.bind(null,"4886"))}},{path:"/search/:key",name:"Search",component:function(){return n.e("chunk-5c08e88d").then(n.bind(null,"2d3b"))}}],Ct=new M["a"]({routes:vt});Ct.beforeEach((function(t,e,n){return kt.getters["auth/getToken"]?t.matched.some((function(t){return t.meta.requiresAuth}))?void n():"Login"==t.name||"Register"===t.name?void n("/customer/profile"):void n():t.matched.some((function(t){return t.meta.requiresAuth}))?void n("/login"):void n()}));var _t=Ct,yt=n("5f5b"),wt=n("b1e0"),St=(n("f9e3"),n("2dd8"),n("26b9")),At=n.n(St),It=n("6c42");n("da96");a["default"].use(yt["a"]),a["default"].use(wt["a"]);var xt={color:"#f4511e",failedColor:"#874b4b",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,position:"relative"};a["default"].use(At.a,xt);var Tt={position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};a["default"].use(It["a"],Tt),st.a.defaults.headers.common={Authorization:"Bearer ".concat(localStorage.getItem("token")),"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},a["default"].prototype.$http=st.a,a["default"].config.bookionTip=!1,new a["default"]({router:_t,store:kt,render:function(t){return t(q)}}).$mount("#app")},"5aab":function(t,e,n){},"5ced":function(t,e,n){},"6a91":function(t,e,n){},"79de":function(t,e,n){"use strict";var a=n("5aab"),o=n.n(a);o.a},"7c58":function(t,e,n){"use strict";var a=n("ce2a"),o=n.n(a);o.a},"85ec":function(t,e,n){},"9bec":function(t,e,n){},"9bf9":function(t,e,n){"use strict";var a=n("9bec"),o=n.n(a);o.a},b511:function(t,e,n){"use strict";var a=n("1cbf"),o=n.n(a);o.a},c71c:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-book-container"},t._l(t.books,(function(e){return n("div",{key:e.id,staticClass:"book-card"},[n("div",{staticClass:"book-image-outer-wrapper"},[n("div",{staticClass:"book-image-frame"},[n("img",{attrs:{src:e.image[0],alt:e.name}})])]),n("h6",{staticClass:"book-title"},[t._v(t._s(e.name))]),0!=e.discount?n("div",[n("p",{staticClass:"book-price"},[n("s",[t._v("$ "+t._s(e.price))])]),n("p",{staticClass:"book-offer-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price-e.discount))])]):n("div",[n("p",{staticClass:"book-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))])]),n("p",{staticStyle:{"text-align":"center"}},[n("b-button",{on:{click:function(n){return t.addToCart(e.id,e.name,e.price-e.discount,e.image[0])}}},[n("b-icon",{attrs:{icon:"cart","font-scale":"1.5"}})],1),n("b-button",{on:{click:function(n){return t.bookDetail(e.slug)}}},[n("b-icon",{attrs:{icon:"list","font-scale":"1.5"}})],1)],1)])})),0)},o=[],r={name:"Book",props:{books:Array},components:{},methods:{bookDetail:function(t){this.$router.push({name:"Book",params:{slug:t}})},addToCart:function(t,e,n,a,o){var r=this,s={bookId:t,quantity:1,name:e,price:n,img:o};this.$store.dispatch("cart/addBookToCart",s).then((function(t){r.$toast.success(t,{timeout:4e3})})).catch((function(t){r.$toast.error(t,{timeout:4e3})}))},removeFromCart:function(t){this.$store.dispatch("cart/removeBookFromCart",t)}}},s=r,i=(n("79de"),n("2877")),c=Object(i["a"])(s,a,o,!1,null,"0d44f0f3",null);e["a"]=c.exports},cccb:function(t,e,n){"use strict";var a=n("5ced"),o=n.n(a);o.a},ce2a:function(t,e,n){},ecbc:function(t,e,n){"use strict";var a=n("6a91"),o=n.n(a);o.a},f94d:function(t,e,n){"use strict";var a=n("fcd6"),o=n.n(a);o.a},fcd6:function(t,e,n){}});
//# sourceMappingURL=app.af0f5a32.js.map