(function(t){function e(e){for(var a,r,s=e[0],i=e[1],u=e[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);p&&p(e);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o={app:0},c=[];function s(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"67be2854","chunk-0768dfae":"a0a395f1","chunk-207b00ad":"6000f82f","chunk-35538e61":"e69f7298","chunk-4b9020fa":"1e24551f","chunk-84747b30":"9ee2dbb2","chunk-983383de":"964129c2","chunk-b66f372c":"7dbec611","chunk-c020ad50":"13c0e119","chunk-c7d93608":"de244150","chunk-fc384000":"99e25732"}[t]+".js"}function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-0768dfae":1,"chunk-207b00ad":1,"chunk-35538e61":1,"chunk-4b9020fa":1,"chunk-84747b30":1,"chunk-983383de":1,"chunk-b66f372c":1,"chunk-c020ad50":1,"chunk-c7d93608":1,"chunk-fc384000":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"31d6cfe0","chunk-0768dfae":"f8fc1a97","chunk-207b00ad":"9f2b6ede","chunk-35538e61":"5ae2e27e","chunk-4b9020fa":"50210591","chunk-84747b30":"33b8f9f4","chunk-983383de":"3f3d18db","chunk-b66f372c":"d21dcf84","chunk-c020ad50":"ac227964","chunk-c7d93608":"ecf33e0a","chunk-fc384000":"cf25ba99"}[t]+".css",o=i.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[t],p.parentNode.removeChild(p),n(c)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0152":function(t,e,n){},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},1949:function(t,e,n){},"1cbf":function(t,e,n){},"1f25":function(t,e,n){"use strict";var a=n("3963"),r=n.n(a);r.a},3963:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("router-view"),n("Footer")],1)},o=[],c=n("5530"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bar"},[n("div",{staticClass:"container"},[n("b-navbar",{attrs:{toggleable:"md",type:"light",variant:""}},[n("b-navbar-toggle",{attrs:{target:"nav-text-collapse"}}),n("b-navbar-brand",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[n("b-icon",{attrs:{icon:"handbag"}}),t._v(" Online Shop ")],1)],1),n("b-collapse",{attrs:{id:"nav-text-collapse","is-nav":""}},[n("div",{staticClass:"search-bar"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"form-control search-input",attrs:{type:"text",placeholder:"Search products.."},domProps:{value:t.search_key},on:{input:function(e){e.target.composing||(t.search_key=e.target.value)}}}),n("button",{on:{click:function(e){return t.makeSearch()}}},[n("b-icon",{attrs:{icon:"search"}})],1)]),n("b-navbar-nav",{},[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/mybooks",right:""}},[t._v(" Upload ")])],1),n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/cart",right:""}},[t.totalItemsInCart>0?n("b-icon",{attrs:{icon:"cart-fill"}}):n("b-icon",{attrs:{icon:"cart"}}),n("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.totalItemsInCart))])],1)],1),t.isLoggedIn?n("b-dropdown",{staticClass:"m-md-1",attrs:{id:"dropdown-right",right:"",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[n("b-icon",{staticStyle:{color:"#DC143C"},attrs:{icon:"person"}})]},proxy:!0}],null,!1,1112494117)},[n("b-dropdown-item",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/profile"}},[n("b-icon",{attrs:{icon:"person-circle"}}),t._v(" Profile ")],1)],1),n("b-dropdown-item",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/transactions"}},[n("b-icon",{attrs:{icon:"arrow-left-right"}}),t._v(" Transactions ")],1)],1),n("b-dropdown-item",[n("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/mybooks"}},[n("b-icon",{attrs:{icon:"collection"}}),t._v(" My Books ")],1)],1),n("b-dropdown-item",{on:{click:t.logout}},[n("b-icon",{attrs:{icon:"box-arrow-right"}}),t._v(" Log Out ")],1)],1):n("div",{staticClass:"login-register"},[n("b-nav-item",{attrs:{href:"#"}},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/login"}},[n("b-icon",{attrs:{icon:"people"}},[t._v(" Login")])],1)],1)],1)],1)],1)],1)],1),n("Category",{attrs:{categories:t.categories_list}}),n("vue-progress-bar")],1)},i=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-custom"},[n("div",{staticClass:"inside-nav"},[n("div",{staticClass:"container"},t._l(t.categories,(function(e){return n("div",{key:e.id,staticClass:"menu-item"},[0!=e.childs.length?n("div",{staticClass:"dropdown-custom"},[n("button",{staticClass:"dropbtn-custom",on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(" "+t._s(e.name)+" "),n("i",{staticClass:"fa fa-caret-down"})]),n("div",{staticClass:"dropdown-content-custom"},[n("div",{staticClass:"has-sub-menu"},[n("SubCategory",{attrs:{childs:e.childs}})],1)])]):n("div",{staticClass:"nodrop-down"},[n("a",{attrs:{href:"javascript:"},on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))])])])})),0)])])},l=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row-custom"},t._l(t.childs,(function(e){return n("div",{key:e.id,staticClass:"column-custom"},[n("h3",[t._v(t._s(e.name))]),e.childs.length>0?n("div",{staticClass:"more-child"},t._l(e.childs,(function(e){return n("div",{key:e.id,staticClass:"more-child-items"},[n("a",{attrs:{href:"javascript:"},on:{click:function(n){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))])])})),0):t._e()])})),0)])},p=[],f={name:"SubCategory",props:{childs:Array},components:{},methods:{fromCatMenu:function(t){this.$router.push({name:"Category",params:{slug:t}})}}},h=f,m=(n("b30d"),n("2877")),g=Object(m["a"])(h,d,p,!1,null,"bd3c882c",null),v=g.exports,b={name:"Category",components:{SubCategory:v},props:{categories:Array},methods:{fromCatMenu:function(t){this.$router.push({name:"Category",params:{slug:t}})}}},C=b,k=(n("9bf9"),Object(m["a"])(C,u,l,!1,null,null,null)),_=k.exports,y=n("2f62"),w={name:"NavBar",components:{Category:_},data:function(){return{categories_list:[],isLoggedIn:!1,search_key:""}},computed:Object(c["a"])({},Object(y["b"])({totalItemsInCart:"cart/getTotalItemsInCart",hasToken:"auth/getToken"})),created:function(){this.getCategories()},watch:{$route:function(){this.checkIsLogIn()}},methods:{makeSearch:function(){var t=this.search_key;""!=t&&this.$router.push({name:"Search",params:{key:t}})},getCategories:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/getCategoriesMenu").then((function(e){t.categories_list=e.data.data})).catch((function(t){console.log(t)}))},checkIsLogIn:function(){var t=this;this.hasToken&&this.$store.dispatch("auth/checkAuthToken").then((function(){t.isLoggedIn=!0})).catch((function(e){401==e.response.status&&t.logout()}))},logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/login"),t.$http.defaults.headers.common={Authorization:""},t.isLoggedIn=!1})).catch((function(){}))}}},S=w,A=(n("7c58"),Object(m["a"])(S,s,i,!1,null,"5ac59fce",null)),P=A.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("footer",{staticClass:"site-footer mt-4"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12 col-md-6"},[n("h6",[t._v("About")]),n("p",{staticClass:"text-justify"},[t._v("Awesome Shop "),n("i",[t._v("CODE WANTS TO BE SIMPLE ")]),t._v(" is an initiative to help the upcoming programmers with the code. Scanfcode focuses on providing the most efficient code or snippets as the code wants to be simple. We will help programmers build up concepts in different programming languages that include C, C++, Java, HTML, CSS, Bootstrap, JavaScript, PHP, Android, SQL and Algorithm.")])]),n("div",{staticClass:"col-xs-6 col-md-3"},[n("h6",[t._v("Categories")]),n("ul",{staticClass:"footer-links"},[n("li",[n("a",{attrs:{href:"#"}},[t._v("C")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("UI Design")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("PHP")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Java")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Android")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Templates")])])])]),n("div",{staticClass:"col-xs-6 col-md-3"},[n("h6",[t._v("Quick Links")]),n("ul",{staticClass:"footer-links"},[n("li",[n("a",{attrs:{href:"#"}},[t._v("About Us")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Contact Us")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Contribute")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Privacy Policy")])]),n("li",[n("a",{attrs:{href:"#"}},[t._v("Sitemap")])])])])]),n("hr")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-8 col-sm-6 col-xs-12"},[n("p",{staticClass:"copyright-text"},[t._v("Copyright Â© 2020 All Rights Reserved by "),n("a",{attrs:{href:"#"}},[t._v("Awesome Shop")]),t._v(". Developed by PremLamsal. ")])]),n("div",{staticClass:"col-md-4 col-sm-6 col-xs-12"},[n("ul",{staticClass:"social-icons"},[n("li",[n("a",{staticClass:"facebook",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-facebook"})])]),n("li",[n("a",{staticClass:"twitter",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-twitter"})])]),n("li",[n("a",{staticClass:"dribbble",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-dribbble"})])]),n("li",[n("a",{staticClass:"linkedin",attrs:{href:"#"}},[n("i",{staticClass:"fa fa-linkedin"})])])])])])])])])}],T={},$=T,O=(n("1f25"),Object(m["a"])($,I,x,!1,null,"cbe2a9fe",null)),j=O.exports,E={components:{NavBar:P,Footer:j},data:function(){return{items:[{text:"Admin",href:"#"},{text:"Manage",href:"#"},{text:"Library",active:!0}]}},computed:Object(c["a"])({},Object(y["b"])({totalItemsInCart:"cart/getTotalItemsInCart"})),created:function(){}},L=E,q=(n("034f"),Object(m["a"])(L,r,o,!1,null,null,null)),Q=q.exports,B=(n("45fc"),n("b0c0"),n("d3b7"),n("8c4f")),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",[n("div",{staticClass:"cat-slider-box"},[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("slider",{attrs:{sliders:t.sliders}})],1)],1)],1),n("b-row",[n("b-col",[n("h5",{staticClass:"mt-2 pt-2 theme-color",staticStyle:{"text-align":"center"}},[t._v(" Popular ")]),n("div",{staticClass:"col"},[n("div",{staticClass:"product-container"},[n("productSlider",{attrs:{products:t.products.data}})],1)])])],1),n("b-row",[n("b-col",[n("div",{staticClass:"category-card-container"},[n("h5",[t._v("Start with Categories")]),n("div",{staticClass:"category-card"},t._l(t.categories,(function(e){return n("ul",{key:e.id},[n("li",[n("a",{attrs:{href:"javascript:"},on:{click:function(n){return t.showByCat(e.slug)}}},[t._v(t._s(e.name))])])])})),0)])])],1),n("b-row",[n("b-col",[n("h5",{staticClass:"mt-2 pt-2 theme-color",staticStyle:{"text-align":"center"}},[t._v(" More Books ")]),n("div",{staticClass:"product-panel"},[n("div",{staticClass:"product-panel-insider"},[n("product",{attrs:{products:t.products.data}})],1),n("div",{staticClass:"inner-btn mb-4"},[null!=t.pagination.next_link?n("b-button",{staticClass:"loadmore-btn",attrs:{variant:"default"},on:{click:function(e){return t.loadProducts(t.pagination.next_link)}}},[n("b-icon",{attrs:{icon:"arrow-down"}}),t._v("Load More ")],1):t._e()],1)]),n("div")])],1)],1)],1)},F=[],U=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vueper-slides",{staticClass:"no-shadow",attrs:{autoplay:"","visible-slides":4,"slide-ratio":.4,"dragging-distance":200,breakpoints:{800:{visibleSlides:2,slideMultiple:2}}}},t._l(t.products,(function(e){return n("vueper-slide",{key:e.id,scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"product-card"},[n("div",{staticClass:"product-image-outer-wrapper"},[n("div",{staticClass:"product-image-frame"},[n("img",{attrs:{src:e.image[0],alt:e.name}})])]),n("h6",[t._v(t._s(e.name))]),0!=e.discount?n("div",[n("p",{staticClass:"product-price"},[n("s",[t._v("$ "+t._s(e.price))])]),n("p",{staticClass:"product-offer-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price-e.discount))])]):n("div",[n("p",{staticClass:"product-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))])]),n("p",{staticStyle:{"text-align":"center"}},[n("b-button",{on:{click:function(n){return t.addToCart(e.id,e.name,e.price,e.image[0])}}},[n("b-icon",{attrs:{icon:"cart","font-scale":"1.5"}})],1),n("b-button",{on:{click:function(n){return t.productDetail(e.slug)}}},[n("b-icon",{attrs:{icon:"list","font-scale":"1.5"}})],1)],1)])]},proxy:!0}],null,!0)})})),1)],1)}),D=[],N=(n("ac1f"),n("5319"),n("b1b5")),H=(n("2ec8"),{props:{products:Array},components:{VueperSlides:N["VueperSlides"],VueperSlide:N["VueperSlide"]},methods:{productDetail:function(t){this.$router.replace({path:"/product/".concat(t)})},addToCart:function(t,e,n,a){var r=this,o={productId:t,quantity:1,name:e,price:n,img:a};this.$store.dispatch("cart/addProductToCart",o).then((function(t){r.$toast.success(t,{timeout:4e3})})).catch((function(t){r.$toast.error(t,{timeout:4e3})}))},removeFromCart:function(t){this.$store.dispatch("cart/removeProductFromCart",t)}}}),J=H,R=(n("ce3c"),Object(m["a"])(J,U,D,!1,null,"1f03af2b",null)),z=R.exports,V=n("be6f"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-carousel",{staticClass:"home-slider",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"400"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.sliders,(function(e){return n("b-carousel-slide",{key:e.id,scopedSlots:t._u([{key:"img",fn:function(){return[n("img",{staticClass:"d-block w-100",attrs:{width:"1024",height:"400",src:e.image}})]},proxy:!0}],null,!0)},[n("div",{staticClass:"slider-overlap-caption",attrs:{alt:"image slot"}},[n("h1",[t._v(t._s(e.heading))]),n("p",[t._v(t._s(e.paragraph))]),n("b-button",{staticClass:"greenBtn",attrs:{variant:"default"}},[n("b-icon",{attrs:{icon:"cursor"}}),t._v("Click me ")],1)],1)])})),1)],1)},G=[],K={data:function(){return{slide:0,sliding:null}},props:{sliders:Array},created:function(){},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}}},X=K,Y=(n("b511"),Object(m["a"])(X,W,G,!1,null,null,null)),Z=Y.exports,tt={name:"Home",components:{Slider:Z,ProductSlider:z,Product:V["a"]},data:function(){return{products:{data:[]},sliders:[],categories:[],next_page:"",more_data:"",pagination:{}}},computed:Object(c["a"])({},Object(y["b"])({})),created:function(){this.loadCategories(),this.loadProducts(),this.loadSliders()},mounted:function(){},methods:{loadSliders:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/sliders").then((function(e){console.log(e.data),t.sliders=e.data.data})).catch((function(t){console.log(t.response)}))},showByCat:function(t){this.$router.push({name:"Category",params:{slug:t}})},loadCategories:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/categories/random").then((function(e){t.categories=e.data.data})).catch((function(e){t.$toast.error(e.response.data.message,{timeout:4e3})}))},makePagination:function(t,e){var n={current_page:t.current_page,last_page:t.last_page,from_page:t.from,to_page:t.to,total_pages:t.total,path_page:t.path+"?page=",first_link:e.first,last_link:e.last,prev_link:e.prev,next_link:e.next};this.pagination=n},pushProduct:function(t){this.products.data.push(t)},loadProducts:function(t){var e=this;this.$Progress.start(),t=t||"https://eshop.test/api/frontend/products",this.$http.get(t).then((function(t){t.data.data.forEach((function(t){e.products.data.push(t)})),e.products.meta=t.data.meta,e.products.links=t.data.links,e.makePagination(t.data.meta,t.data.links),e.$Progress.finish()})).catch((function(t){console.log(t),e.$Progress.fail()}))}}},et=tt,nt=(n("cccb"),Object(m["a"])(et,M,F,!1,null,null,null)),at=nt.exports,rt=n("0e44"),ot=n("bc3a"),ct=n.n(ot);ct.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var st={token:localStorage.getItem("token")||"",user:{},isAuthenticated:!1},it={getToken:function(t){return t.token},getUser:function(t){return t.user},getIsAuthenticated:function(t){return t.isAuthenticated}},ut={setToken:function(t,e){t.token=e},destroyToken:function(t){t.token=""},setUser:function(t,e){t.user=e.user},setIsAuthenticated:function(t,e){t.isAuthenticated=e}},lt={login:function(t,e){return new Promise((function(n,a){ct.a.defaults.headers.common["Accept"]="application/json",ct.a.post("https://eshop.test/api/frontend/login",e).then((function(e){var a=e.data.access_token,r=e.data.user;t.commit("setToken",a),t.commit("setUser",r),t.commit("setIsAuthenticated",!0),localStorage.setItem("token",a),n(e)})).catch((function(t){console.log(t),a(t)}))}))},register:function(t,e){return new Promise((function(n,a){ct.a.defaults.headers.common["Accept"]="application/json",ct.a.post("https://eshop.test/api/frontend/register",e).then((function(e){var a=e.data.access_token,r=e.data.user;t.commit("setToken",a),t.commit("setUser",r),t.commit("setIsAuthenticated",!0),localStorage.setItem("token",a),n(e)})).catch((function(t){console.log(t),a(t)}))}))},checkAuthToken:function(t){return new Promise((function(e,n){var a=t.getters.getToken;ct.a.defaults.headers.common={Authorization:"Bearer ".concat(a)},ct.a.defaults.headers.common["Accept"]="application/json",ct.a.get("https://eshop.test/api/frontend/getUser").then((function(n){var a=n.data.data[0];t.commit("setUser",a),t.commit("setIsAuthenticated",!0),e(n)})).catch((function(e){t.logout,t.commit("setIsAuthenticated",!1),n(e)}))}))},logout:function(t){return new Promise((function(e){t.commit("destroyToken"),localStorage.removeItem("token"),delete ct.a.defaults.headers.common["Authorization"],e()}))}},dt={namespaced:!0,state:st,getters:it,actions:lt,mutations:ut};n("7db0"),n("c975"),n("13d5"),n("a434");ct.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var pt={cart:[]},ft={getProducts:function(t){return t.products},getTotalProduct:function(t){return t.products.length},getCartItems:function(t){return t.cart},getTotalItemsInCart:function(t){return t.cart.reduce((function(t,e){return t+parseFloat(e.productQuantity)}),0)},getGrandTotalCart:function(t){return t.cart.reduce((function(t,e){return t+parseFloat(e.productQuantity)*parseFloat(e.productPrice)}),0)}},ht={pushCart:function(t,e){var n={productId:e.productId,productName:e.name,productPrice:e.price,productImage:e.img,productQuantity:e.quantity,productLineTotal:e.price*e.quantity};t.cart.push(n)},increaseQuantityInCart:function(t,e){e.productQuantity++,e.productLineTotal=e.productQuantity*e.productPrice},decreaseQuantityInCart:function(t,e){e.productQuantity--,e.productLineTotal=e.productQuantity*e.productPrice},popCart:function(t,e){var n=t.cart.find((function(t){return t.productId==e}));t.cart.splice(t.cart.indexOf(n),1)}},mt={addProductToCart:function(t,e){return new Promise((function(n,a){var r,o=t.state.cart.find((function(t){return t.productId==e.productId}));r=o?o.productQuantity:0,ct.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",ct.a.defaults.headers.common["Accept"]="application/json",ct.a.get("https://eshop.test/api/frontend/checkstock/"+e.productId).then((function(c){c.data.instock_quantity>=r+1?o?(t.commit("increaseQuantityInCart",o),n("Product quantity incremented.")):(t.commit("pushCart",e),n("Added Item to Cart")):a("Sorry no stock availabe for this product.")})).catch((function(t){a(t.response.data)}))}))},decrementTheCart:function(t,e){var n=t.state.cart.find((function(t){return t.productId==e}));n.productQuantity>1&&t.commit("decreaseQuantityInCart",n)},removeProductFromCart:function(t,e){var n=t.state.cart.find((function(t){return t.productId==e}));n.productQuantity>0&&t.commit("popCart",e)},incrementTheCart:function(t,e){return new Promise((function(n,a){var r=t.state.cart.find((function(t){return t.productId==e})),o=r.productQuantity;ct.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",ct.a.defaults.headers.common["Accept"]="application/json",ct.a.get("https://eshop.test/api/frontend/checkstock/"+e).then((function(e){e.data.instock_quantity>=o+1?r.productQuantity>0&&(t.commit("increaseQuantityInCart",r),n("Product quantity incremented.")):a("Sorry no stock availabe for this product.")})).catch((function(t){a(t)}))}))}},gt={namespaced:!0,state:pt,getters:ft,actions:mt,mutations:ht};a["default"].use(y["a"]);var vt=new y["a"].Store({plugins:[Object(rt["a"])()],modules:{auth:dt,cart:gt}}),bt=vt;a["default"].use(B["a"]);var Ct=[{path:"/",name:"Home",component:at,meta:{requiresAuth:!1}},{path:"/product/:slug",name:"Product",component:function(){return n.e("chunk-0768dfae").then(n.bind(null,"5f47"))},meta:{requiresAuth:!1}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/cart",name:"Cart",component:function(){return n.e("chunk-84747b30").then(n.bind(null,"b789"))},meta:{requiresAuth:!1}},{path:"/checkout",name:"Checkout",component:function(){return n.e("chunk-4b9020fa").then(n.bind(null,"da3a"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return n.e("chunk-c020ad50").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-b66f372c").then(n.bind(null,"73cf"))}},{path:"/customer/profile",name:"CustomerProfile",component:function(){return n.e("chunk-fc384000").then(n.bind(null,"8dd2"))},meta:{requiresAuth:!0}},{path:"/customer/transactions",name:"Transactions",component:function(){return n.e("chunk-207b00ad").then(n.bind(null,"8c99"))},meta:{requiresAuth:!0}},{path:"/customer/mybooks",name:"MyBooks",component:function(){return n.e("chunk-983383de").then(n.bind(null,"9e2c"))},meta:{requiresAuth:!0}},{path:"/category/:slug",name:"Category",component:function(){return n.e("chunk-c7d93608").then(n.bind(null,"4886"))}},{path:"/search/:key",name:"Search",component:function(){return n.e("chunk-35538e61").then(n.bind(null,"2d3b"))}}],kt=new B["a"]({routes:Ct});kt.beforeEach((function(t,e,n){return bt.getters["auth/getToken"]?t.matched.some((function(t){return t.meta.requiresAuth}))?void n():"Login"==t.name||"Register"===t.name?void n("/customer/profile"):void n():t.matched.some((function(t){return t.meta.requiresAuth}))?void n("/login"):void n()}));var _t=kt,yt=n("5f5b"),wt=n("b1e0"),St=(n("f9e3"),n("2dd8"),n("26b9")),At=n.n(St),Pt=n("6c42");n("da96");a["default"].use(yt["a"]),a["default"].use(wt["a"]);var It={color:"#f4511e",failedColor:"#874b4b",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,position:"relative"};a["default"].use(At.a,It);var xt={position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};a["default"].use(Pt["a"],xt),ct.a.defaults.headers.common={Authorization:"Bearer ".concat(localStorage.getItem("token")),"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},a["default"].prototype.$http=ct.a,a["default"].config.productionTip=!1,new a["default"]({router:_t,store:bt,render:function(t){return t(Q)}}).$mount("#app")},"5ced":function(t,e,n){},"7c58":function(t,e,n){"use strict";var a=n("ce2a"),r=n.n(a);r.a},"81e5":function(t,e,n){"use strict";var a=n("1949"),r=n.n(a);r.a},"85ec":function(t,e,n){},"9bec":function(t,e,n){},"9bf9":function(t,e,n){"use strict";var a=n("9bec"),r=n.n(a);r.a},b30d:function(t,e,n){"use strict";var a=n("bb44"),r=n.n(a);r.a},b511:function(t,e,n){"use strict";var a=n("1cbf"),r=n.n(a);r.a},bb44:function(t,e,n){},be6f:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-product-container"},t._l(t.products,(function(e){return n("div",{key:e.id,staticClass:"product-card"},[n("div",{staticClass:"product-image-outer-wrapper"},[n("div",{staticClass:"product-image-frame"},[n("img",{attrs:{src:e.image[0],alt:e.name}})])]),n("h6",{staticClass:"product-title"},[t._v(t._s(e.name))]),0!=e.discount?n("div",[n("p",{staticClass:"product-price"},[n("s",[t._v("$ "+t._s(e.price))])]),n("p",{staticClass:"product-offer-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price-e.discount))])]):n("div",[n("p",{staticClass:"product-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))])]),n("p",{staticStyle:{"text-align":"center"}},[n("b-button",{on:{click:function(n){return t.addToCart(e.id,e.name,e.price,e.image[0])}}},[n("b-icon",{attrs:{icon:"cart","font-scale":"1.5"}})],1),n("b-button",{on:{click:function(n){return t.productDetail(e.slug)}}},[n("b-icon",{attrs:{icon:"list","font-scale":"1.5"}})],1)],1)])})),0)},r=[],o={name:"Product",props:{products:Array},components:{},methods:{productDetail:function(t){this.$router.push({name:"Product",params:{slug:t}})},addToCart:function(t,e,n,a){var r=this,o={productId:t,quantity:1,name:e,price:n,img:a};this.$store.dispatch("cart/addProductToCart",o).then((function(t){r.$toast.success(t,{timeout:4e3})})).catch((function(t){r.$toast.error(t,{timeout:4e3})}))},removeFromCart:function(t){this.$store.dispatch("cart/removeProductFromCart",t)}}},c=o,s=(n("81e5"),n("2877")),i=Object(s["a"])(c,a,r,!1,null,"57fa09b2",null);e["a"]=i.exports},cccb:function(t,e,n){"use strict";var a=n("5ced"),r=n.n(a);r.a},ce2a:function(t,e,n){},ce3c:function(t,e,n){"use strict";var a=n("0152"),r=n.n(a);r.a}});
//# sourceMappingURL=app.5f03a31c.js.map