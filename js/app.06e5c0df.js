(function(t){function e(e){for(var n,a,i=e[0],c=e[1],u=e[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,a=1;a<o.length;a++){var i=o[a];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},a={app:0},r={app:0},s=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"80e3b393","chunk-0f66b46d":"3fd00c97","chunk-207b00ad":"9803c111","chunk-2a5892d3":"5ddd7504","chunk-2adf8d59":"6e09d20f","chunk-501fa897":"5584a0a9","chunk-5c08e88d":"946f2b26","chunk-b66f372c":"ef52a819","chunk-c36b0b48":"a47652e2","chunk-d3662638":"37df8232","chunk-fc384000":"4034d6cb"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={"chunk-0f66b46d":1,"chunk-207b00ad":1,"chunk-2a5892d3":1,"chunk-2adf8d59":1,"chunk-501fa897":1,"chunk-5c08e88d":1,"chunk-b66f372c":1,"chunk-c36b0b48":1,"chunk-d3662638":1,"chunk-fc384000":1};a[t]?e.push(a[t]):0!==a[t]&&o[t]&&e.push(a[t]=new Promise((function(e,o){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"31d6cfe0","chunk-0f66b46d":"5e2fd797","chunk-207b00ad":"9f2b6ede","chunk-2a5892d3":"45638ca4","chunk-2adf8d59":"f353a9b9","chunk-501fa897":"be4b41fa","chunk-5c08e88d":"cfd72709","chunk-b66f372c":"d21dcf84","chunk-c36b0b48":"323c2c6f","chunk-d3662638":"80de9e4b","chunk-fc384000":"cf25ba99"}[t]+".css",r=c.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===r))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===n||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[t],f.parentNode.removeChild(f),o(s)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[t]=0})));var n=r[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var o=r[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,o[1](d)}r[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("85ec"),a=o.n(n);a.a},"1cbf":function(t,e,o){},"1f25":function(t,e,o){"use strict";var n=o("3963"),a=o.n(n);a.a},3963:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("nav-bar"),o("router-view"),o("Footer")],1)},r=[],s=o("5530"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"nav-bar"},[o("div",{staticClass:"container"},[o("b-navbar",{attrs:{toggleable:"md",type:"light",variant:""}},[o("b-navbar-toggle",{attrs:{target:"nav-text-collapse"}}),o("b-navbar-brand",[o("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[o("b-icon",{attrs:{icon:"handbag"}}),t._v(" Online Shop ")],1)],1),o("b-collapse",{attrs:{id:"nav-text-collapse","is-nav":""}},[o("div",{staticClass:"search-bar"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"form-control search-input",attrs:{type:"text",placeholder:"Search products.."},domProps:{value:t.search_key},on:{input:function(e){e.target.composing||(t.search_key=e.target.value)}}}),o("button",{on:{click:function(e){return t.makeSearch()}}},[o("b-icon",{attrs:{icon:"search"}})],1)]),o("b-navbar-nav",{},[o("b-nav-item",{attrs:{href:"#"}},[o("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/mybooks",right:""}},[t._v(" Upload ")])],1),o("b-nav-item",{attrs:{href:"#"}},[o("router-link",{staticClass:"navbar-item",attrs:{to:"/cart",right:""}},[t.totalItemsInCart>0?o("b-icon",{attrs:{icon:"cart-fill"}}):o("b-icon",{attrs:{icon:"cart"}}),o("b-badge",{attrs:{variant:"warning"}},[t._v(t._s(t.totalItemsInCart))])],1)],1),t.isLoggedIn?o("b-dropdown",{staticClass:"m-md-1",attrs:{id:"dropdown-right",right:"",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("b-icon",{staticStyle:{color:"#DC143C"},attrs:{icon:"person"}})]},proxy:!0}],null,!1,1112494117)},[o("b-dropdown-item",[o("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/profile"}},[o("b-icon",{attrs:{icon:"person-circle"}}),t._v(" Profile ")],1)],1),o("b-dropdown-item",[o("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/transactions"}},[o("b-icon",{attrs:{icon:"arrow-left-right"}}),t._v(" Transactions ")],1)],1),o("b-dropdown-item",[o("router-link",{staticClass:"navbar-item",attrs:{to:"/customer/mybooks"}},[o("b-icon",{attrs:{icon:"collection"}}),t._v(" My Books ")],1)],1),o("b-dropdown-item",{on:{click:t.logout}},[o("b-icon",{attrs:{icon:"box-arrow-right"}}),t._v(" Log Out ")],1)],1):o("div",{staticClass:"login-register"},[o("b-nav-item",{attrs:{href:"#"}},[o("router-link",{staticClass:"navbar-item",attrs:{to:"/login"}},[o("b-icon",{attrs:{icon:"people"}},[t._v(" Login")])],1)],1)],1)],1)],1)],1)],1),o("Category",{attrs:{categories:t.categories_list}}),o("vue-progress-bar")],1)},c=[],u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"navbar-custom"},[o("div",{staticClass:"inside-nav"},[o("div",{staticClass:"container"},t._l(t.categories,(function(e){return o("div",{key:e.id,staticClass:"menu-item"},[0!=e.childs.length?o("div",{staticClass:"dropdown-custom"},[o("button",{staticClass:"dropbtn-custom",on:{click:function(o){return t.fromCatMenu(e.slug)}}},[t._v(" "+t._s(e.name)+" "),o("i",{staticClass:"fa fa-caret-down"})]),o("div",{staticClass:"dropdown-content-custom"},[o("div",{staticClass:"has-sub-menu"},[o("SubCategory",{attrs:{childs:e.childs}})],1)])]):o("div",{staticClass:"nodrop-down"},[o("a",{attrs:{href:"javascript:"},on:{click:function(o){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))])])])})),0)])])},l=[],d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row-custom"},t._l(t.childs,(function(e){return o("div",{key:e.id,staticClass:"column-custom"},[o("h3",{staticStyle:{cursor:"pointer"},on:{click:function(o){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))]),e.childs.length>0?o("div",{staticClass:"more-child"},t._l(e.childs,(function(e){return o("div",{key:e.id,staticClass:"more-child-items"},[o("a",{attrs:{href:"javascript:"},on:{click:function(o){return t.fromCatMenu(e.slug)}}},[t._v(t._s(e.name))])])})),0):t._e()])})),0)])},f=[],h={name:"SubCategory",props:{childs:Array},components:{},methods:{fromCatMenu:function(t){this.$router.push({name:"Category",params:{slug:t}})}}},m=h,p=(o("ecbc"),o("2877")),b=Object(p["a"])(m,d,f,!1,null,"7486cea3",null),g=b.exports,v={name:"Category",components:{SubCategory:g},props:{categories:Array},methods:{fromCatMenu:function(t){this.$router.push({name:"Category",params:{slug:t}})}}},k=v,C=(o("9bf9"),Object(p["a"])(k,u,l,!1,null,null,null)),_=C.exports,y=o("2f62"),w={name:"NavBar",components:{Category:_},data:function(){return{categories_list:[],isLoggedIn:!1,search_key:""}},computed:Object(s["a"])({},Object(y["b"])({totalItemsInCart:"cart/getTotalItemsInCart",hasToken:"auth/getToken"})),created:function(){this.getCategories()},watch:{$route:function(){this.checkIsLogIn()}},methods:{makeSearch:function(){var t=this.search_key;""!=t&&this.$router.push({name:"Search",params:{key:t}})},getCategories:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/getCategoriesMenu").then((function(e){t.categories_list=e.data.data})).catch((function(t){console.log(t)}))},checkIsLogIn:function(){var t=this;this.hasToken&&this.$store.dispatch("auth/checkAuthToken").then((function(){t.isLoggedIn=!0})).catch((function(e){401==e.response.status&&t.logout()}))},logout:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/login"),t.$http.defaults.headers.common={Authorization:""},t.isLoggedIn=!1})).catch((function(){}))}}},S=w,A=(o("7c58"),Object(p["a"])(S,i,c,!1,null,"5ac59fce",null)),I=A.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},T=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("footer",{staticClass:"site-footer mt-4"},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-12 col-md-6"},[o("h6",[t._v("About")]),o("p",{staticClass:"text-justify"},[t._v("Awesome Shop "),o("i",[t._v("CODE WANTS TO BE SIMPLE ")]),t._v(" is an initiative to help the upcoming programmers with the code. Scanfcode focuses on providing the most efficient code or snippets as the code wants to be simple. We will help programmers build up concepts in different programming languages that include C, C++, Java, HTML, CSS, Bootstrap, JavaScript, PHP, Android, SQL and Algorithm.")])]),o("div",{staticClass:"col-xs-6 col-md-3"},[o("h6",[t._v("Categories")]),o("ul",{staticClass:"footer-links"},[o("li",[o("a",{attrs:{href:"#"}},[t._v("C")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("UI Design")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("PHP")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Java")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Android")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Templates")])])])]),o("div",{staticClass:"col-xs-6 col-md-3"},[o("h6",[t._v("Quick Links")]),o("ul",{staticClass:"footer-links"},[o("li",[o("a",{attrs:{href:"#"}},[t._v("About Us")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Contact Us")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Contribute")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Privacy Policy")])]),o("li",[o("a",{attrs:{href:"#"}},[t._v("Sitemap")])])])])]),o("hr")]),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-8 col-sm-6 col-xs-12"},[o("p",{staticClass:"copyright-text"},[t._v("Copyright Â© 2020 All Rights Reserved by "),o("a",{attrs:{href:"#"}},[t._v("Awesome Shop")]),t._v(". Developed by PremLamsal. ")])]),o("div",{staticClass:"col-md-4 col-sm-6 col-xs-12"},[o("ul",{staticClass:"social-icons"},[o("li",[o("a",{staticClass:"facebook",attrs:{href:"#"}},[o("i",{staticClass:"fa fa-facebook"})])]),o("li",[o("a",{staticClass:"twitter",attrs:{href:"#"}},[o("i",{staticClass:"fa fa-twitter"})])]),o("li",[o("a",{staticClass:"dribbble",attrs:{href:"#"}},[o("i",{staticClass:"fa fa-dribbble"})])]),o("li",[o("a",{staticClass:"linkedin",attrs:{href:"#"}},[o("i",{staticClass:"fa fa-linkedin"})])])])])])])])])}],$={},O=$,P=(o("1f25"),Object(p["a"])(O,x,T,!1,null,"cbe2a9fe",null)),j=P.exports,B={components:{NavBar:I,Footer:j},data:function(){return{items:[{text:"Admin",href:"#"},{text:"Manage",href:"#"},{text:"Library",active:!0}]}},computed:Object(s["a"])({},Object(y["b"])({totalItemsInCart:"cart/getTotalItemsInCart"})),created:function(){}},E=B,L=(o("034f"),Object(p["a"])(E,a,r,!1,null,null,null)),q=L.exports,M=(o("45fc"),o("b0c0"),o("d3b7"),o("8c4f")),Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-container",[o("div",{staticClass:"cat-slider-box"},[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("slider",{attrs:{sliders:t.sliders}})],1)],1)],1),o("b-row",[o("b-col",[null!=t.books.data?o("div",[o("h5",{staticClass:"mt-2 pt-2 theme-color",staticStyle:{"text-align":"center"}},[t._v(" Popular ")]),o("div",{staticClass:"col"},[o("div",{staticClass:"book-container"},[o("bookSlider",{attrs:{books:t.books.data}})],1)])]):t._e()])],1),o("b-row",[o("b-col",[o("div",{staticClass:"category-card-container"},[null!=t.categories?o("h5",[t._v("Start with Categories")]):t._e(),o("div",{staticClass:"category-card"},t._l(t.categories,(function(e){return o("ul",{key:e.id},[o("li",[o("a",{attrs:{href:"javascript:"},on:{click:function(o){return t.showByCat(e.slug)}}},[t._v(t._s(e.name))])])])})),0)])])],1),o("b-row",[o("b-col",[null!=t.books.data?o("h5",{staticClass:"mt-2 pt-2 theme-color",staticStyle:{"text-align":"center"}},[t._v(" More Books ")]):t._e(),o("div",{staticClass:"book-panel"},[o("div",{staticClass:"book-panel-insider"},[o("book",{attrs:{books:t.books.data}})],1),o("div",{staticClass:"inner-btn mb-4"},[null!=t.pagination.next_link?o("b-button",{staticClass:"loadmore-btn",attrs:{variant:"default"},on:{click:function(e){return t.loadBooks(t.pagination.next_link)}}},[o("b-icon",{attrs:{icon:"arrow-down"}}),t._v("Load More ")],1):t._e()],1)]),o("div")])],1)],1)],1)},F=[],U=(o("4160"),o("159b"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("vueper-slides",{staticClass:"no-shadow",attrs:{autoplay:"","visible-slides":4,"slide-ratio":.4,"dragging-distance":200,breakpoints:{800:{visibleSlides:2,slideMultiple:2}}}},t._l(t.books,(function(e){return o("vueper-slide",{key:e.id,scopedSlots:t._u([{key:"content",fn:function(){return[o("div",{staticClass:"book-card"},[o("div",{staticClass:"book-image-outer-wrapper"},[o("div",{staticClass:"book-image-frame"},[o("img",{attrs:{src:e.image[0],alt:e.name}})])]),o("h6",[t._v(t._s(e.name))]),0!=e.discount?o("div",[o("p",{staticClass:"book-price"},[o("s",[t._v("$ "+t._s(e.price))])]),o("p",{staticClass:"book-offer-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price-e.discount))])]):o("div",[o("p",{staticClass:"book-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))])]),o("p",{staticStyle:{"text-align":"center"}},[o("b-button",{on:{click:function(o){return t.addToCart(e.id,e.name,e.price-e.discount,e.image[0])}}},[o("b-icon",{attrs:{icon:"cart","font-scale":"1.5"}})],1),o("b-button",{on:{click:function(o){return t.bookDetail(e.slug)}}},[o("b-icon",{attrs:{icon:"list","font-scale":"1.5"}})],1)],1)])]},proxy:!0}],null,!0)})})),1)],1)}),D=[],N=(o("ac1f"),o("5319"),o("b1b5")),H=(o("2ec8"),{props:{books:Array},components:{VueperSlides:N["VueperSlides"],VueperSlide:N["VueperSlide"]},methods:{bookDetail:function(t){this.$router.replace({path:"/book/".concat(t)})},addToCart:function(t,e,o,n){var a=this,r={bookId:t,quantity:1,name:e,price:o,img:n};this.$store.dispatch("cart/addBookToCart",r).then((function(t){a.$toast.success(t,{timeout:4e3})})).catch((function(t){a.$toast.error(t,{timeout:4e3})}))},removeFromCart:function(t){this.$store.dispatch("cart/removeBookFromCart",t)}}}),J=H,R=(o("f94d"),Object(p["a"])(J,U,D,!1,null,"5dd59146",null)),z=R.exports,V=o("c71c"),W=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-carousel",{staticClass:"home-slider",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"400"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.sliders,(function(e){return o("b-carousel-slide",{key:e.id,scopedSlots:t._u([{key:"img",fn:function(){return[o("img",{staticClass:"d-block w-100",attrs:{width:"1024",height:"400",src:e.image}})]},proxy:!0}],null,!0)},[o("div",{staticClass:"slider-overlap-caption",attrs:{alt:"image slot"}},[o("h1",[t._v(t._s(e.heading))]),o("p",[t._v(t._s(e.paragraph))]),o("b-button",{staticClass:"greenBtn",attrs:{variant:"default"}},[o("b-icon",{attrs:{icon:"cursor"}}),t._v("Click me ")],1)],1)])})),1)],1)},G=[],K={data:function(){return{slide:0,sliding:null}},props:{sliders:Array},created:function(){},methods:{onSlideStart:function(){this.sliding=!0},onSlideEnd:function(){this.sliding=!1}}},X=K,Y=(o("b511"),Object(p["a"])(X,W,G,!1,null,null,null)),Z=Y.exports,tt={name:"Home",components:{Slider:Z,BookSlider:z,Book:V["a"]},data:function(){return{books:{data:[]},sliders:[],categories:[],next_page:"",more_data:"",pagination:{}}},computed:Object(s["a"])({},Object(y["b"])({})),created:function(){this.loadCategories(),this.loadBooks(),this.loadSliders()},mounted:function(){},methods:{loadSliders:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/sliders").then((function(e){console.log(e.data),t.sliders=e.data.data})).catch((function(t){console.log(t.response)}))},showByCat:function(t){this.$router.push({name:"Category",params:{slug:t}})},loadCategories:function(){var t=this;this.$http.get("https://eshop.test/api/frontend/categories/random").then((function(e){t.categories=e.data.data})).catch((function(e){t.$toast.error(e.response.data.message,{timeout:4e3})}))},makePagination:function(t,e){var o={current_page:t.current_page,last_page:t.last_page,from_page:t.from,to_page:t.to,total_pages:t.total,path_page:t.path+"?page=",first_link:e.first,last_link:e.last,prev_link:e.prev,next_link:e.next};this.pagination=o},pushBook:function(t){this.books.data.push(t)},loadBooks:function(t){var e=this;this.$Progress.start(),t=t||"https://eshop.test/api/frontend/books",this.$http.get(t).then((function(t){t.data.data.forEach((function(t){e.books.data.push(t)})),e.books.meta=t.data.meta,e.books.links=t.data.links,e.makePagination(t.data.meta,t.data.links),e.$Progress.finish()})).catch((function(t){console.log(t),e.$Progress.fail()}))}}},et=tt,ot=(o("cccb"),Object(p["a"])(et,Q,F,!1,null,null,null)),nt=ot.exports,at=o("0e44"),rt=o("bc3a"),st=o.n(rt);st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var it={token:localStorage.getItem("token")||"",user:{},isAuthenticated:!1},ct={getToken:function(t){return t.token},getUser:function(t){return t.user},getIsAuthenticated:function(t){return t.isAuthenticated}},ut={setToken:function(t,e){t.token=e},destroyToken:function(t){t.token=""},setUser:function(t,e){t.user=e.user},setIsAuthenticated:function(t,e){t.isAuthenticated=e}},lt={login:function(t,e){return new Promise((function(o,n){st.a.defaults.headers.common["Accept"]="application/json",st.a.post("https://eshop.test/api/frontend/login",e).then((function(e){var n=e.data.access_token,a=e.data.user;t.commit("setToken",n),t.commit("setUser",a),t.commit("setIsAuthenticated",!0),localStorage.setItem("token",n),o(e)})).catch((function(t){console.log(t),n(t)}))}))},register:function(t,e){return new Promise((function(o,n){st.a.defaults.headers.common["Accept"]="application/json",st.a.post("https://eshop.test/api/frontend/register",e).then((function(e){var n=e.data.access_token,a=e.data.user;t.commit("setToken",n),t.commit("setUser",a),t.commit("setIsAuthenticated",!0),localStorage.setItem("token",n),o(e)})).catch((function(t){console.log(t),n(t)}))}))},checkAuthToken:function(t){return new Promise((function(e,o){var n=t.getters.getToken;st.a.defaults.headers.common={Authorization:"Bearer ".concat(n)},st.a.defaults.headers.common["Accept"]="application/json",st.a.get("https://eshop.test/api/frontend/getUser").then((function(o){var n=o.data.data[0];t.commit("setUser",n),t.commit("setIsAuthenticated",!0),e(o)})).catch((function(e){t.logout,t.commit("setIsAuthenticated",!1),o(e)}))}))},logout:function(t){return new Promise((function(e){t.commit("destroyToken"),localStorage.removeItem("token"),delete st.a.defaults.headers.common["Authorization"],e()}))}},dt={namespaced:!0,state:it,getters:ct,actions:lt,mutations:ut};o("7db0"),o("c975"),o("13d5"),o("a434");st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var ft={cart:[]},ht={getBooks:function(t){return t.books},getTotalBook:function(t){return t.books.length},getCartItems:function(t){return t.cart},getTotalItemsInCart:function(t){return t.cart.reduce((function(t,e){return t+parseFloat(e.bookQuantity)}),0)},getGrandTotalCart:function(t){return t.cart.reduce((function(t,e){return t+parseFloat(e.bookQuantity)*parseFloat(e.bookPrice)}),0)}},mt={pushCart:function(t,e){var o={bookId:e.bookId,bookName:e.name,bookPrice:e.price,bookImage:e.img,bookQuantity:e.quantity,bookLineTotal:e.price*e.quantity};t.cart.push(o)},increaseQuantityInCart:function(t,e){e.bookQuantity++,e.bookLineTotal=e.bookQuantity*e.bookPrice},decreaseQuantityInCart:function(t,e){e.bookQuantity--,e.bookLineTotal=e.bookQuantity*e.bookPrice},popCart:function(t,e){var o=t.cart.find((function(t){return t.bookId==e}));t.cart.splice(t.cart.indexOf(o),1)}},pt={addBookToCart:function(t,e){return new Promise((function(o,n){var a,r=t.state.cart.find((function(t){return t.bookId==e.bookId}));a=r?r.bookQuantity:0,st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",st.a.defaults.headers.common["Accept"]="application/json",st.a.get("https://eshop.test/api/frontend/checkstock/"+e.bookId).then((function(s){s.data.instock_quantity>=a+1?r?(t.commit("increaseQuantityInCart",r),o("Book quantity incremented.")):(t.commit("pushCart",e),o("Added Item to Cart")):n("Sorry no stock availabe for this book.")})).catch((function(t){n(t.response.data)}))}))},decrementTheCart:function(t,e){var o=t.state.cart.find((function(t){return t.bookId==e}));o.bookQuantity>1&&t.commit("decreaseQuantityInCart",o)},removeBookFromCart:function(t,e){var o=t.state.cart.find((function(t){return t.bookId==e}));o.bookQuantity>0&&t.commit("popCart",e)},incrementTheCart:function(t,e){return new Promise((function(o,n){var a=t.state.cart.find((function(t){return t.bookId==e})),r=a.bookQuantity;st.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",st.a.defaults.headers.common["Accept"]="application/json",st.a.get("https://eshop.test/api/frontend/checkstock/"+e).then((function(e){e.data.instock_quantity>=r+1?a.bookQuantity>0&&(t.commit("increaseQuantityInCart",a),o("Book quantity incremented.")):n("Sorry no stock availabe for this book.")})).catch((function(t){n(t)}))}))}},bt={namespaced:!0,state:ft,getters:ht,actions:pt,mutations:mt};n["default"].use(y["a"]);var gt=new y["a"].Store({plugins:[Object(at["a"])()],modules:{auth:dt,cart:bt}}),vt=gt;n["default"].use(M["a"]);var kt=[{path:"/",name:"Home",component:nt,meta:{requiresAuth:!1}},{path:"/book/:slug",name:"Book",component:function(){return o.e("chunk-0f66b46d").then(o.bind(null,"1253"))},meta:{requiresAuth:!1}},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}},{path:"/cart",name:"Cart",component:function(){return o.e("chunk-c36b0b48").then(o.bind(null,"b789"))},meta:{requiresAuth:!1}},{path:"/checkout",name:"Checkout",component:function(){return o.e("chunk-501fa897").then(o.bind(null,"da3a"))},meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:function(){return o.e("chunk-2adf8d59").then(o.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return o.e("chunk-b66f372c").then(o.bind(null,"73cf"))}},{path:"/customer/profile",name:"CustomerProfile",component:function(){return o.e("chunk-fc384000").then(o.bind(null,"8dd2"))},meta:{requiresAuth:!0}},{path:"/customer/transactions",name:"Transactions",component:function(){return o.e("chunk-207b00ad").then(o.bind(null,"8c99"))},meta:{requiresAuth:!0}},{path:"/customer/mybooks",name:"MyBooks",component:function(){return o.e("chunk-d3662638").then(o.bind(null,"9e2c"))},meta:{requiresAuth:!0}},{path:"/category/:slug",name:"Category",component:function(){return o.e("chunk-2a5892d3").then(o.bind(null,"4886"))}},{path:"/search/:key",name:"Search",component:function(){return o.e("chunk-5c08e88d").then(o.bind(null,"2d3b"))}}],Ct=new M["a"]({routes:kt});Ct.beforeEach((function(t,e,o){return vt.getters["auth/getToken"]?t.matched.some((function(t){return t.meta.requiresAuth}))?void o():"Login"==t.name||"Register"===t.name?void o("/customer/profile"):void o():t.matched.some((function(t){return t.meta.requiresAuth}))?void o("/login"):void o()}));var _t=Ct,yt=o("5f5b"),wt=o("b1e0"),St=(o("f9e3"),o("2dd8"),o("26b9")),At=o.n(St),It=o("6c42");o("da96");n["default"].use(yt["a"]),n["default"].use(wt["a"]);var xt={color:"#f4511e",failedColor:"#874b4b",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1,position:"relative"};n["default"].use(At.a,xt);var Tt={position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1};n["default"].use(It["a"],Tt),st.a.defaults.headers.common={Authorization:"Bearer ".concat(localStorage.getItem("token")),"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Accept:"application/json"},n["default"].prototype.$http=st.a,n["default"].config.bookionTip=!1,new n["default"]({router:_t,store:vt,render:function(t){return t(q)}}).$mount("#app")},"5aab":function(t,e,o){},"5ced":function(t,e,o){},"6a91":function(t,e,o){},"79de":function(t,e,o){"use strict";var n=o("5aab"),a=o.n(n);a.a},"7c58":function(t,e,o){"use strict";var n=o("ce2a"),a=o.n(n);a.a},"85ec":function(t,e,o){},"9bec":function(t,e,o){},"9bf9":function(t,e,o){"use strict";var n=o("9bec"),a=o.n(n);a.a},b511:function(t,e,o){"use strict";var n=o("1cbf"),a=o.n(n);a.a},c71c:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"self-book-container"},t._l(t.books,(function(e){return o("div",{key:e.id,staticClass:"book-card"},[o("div",{staticClass:"book-image-outer-wrapper"},[o("div",{staticClass:"book-image-frame"},[o("img",{attrs:{src:e.image[0],alt:e.name}})])]),o("h6",{staticClass:"book-title"},[t._v(t._s(e.name))]),0!=e.discount?o("div",[o("p",{staticClass:"book-price"},[o("s",[t._v("$ "+t._s(e.price))])]),o("p",{staticClass:"book-offer-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price-e.discount))])]):o("div",[o("p",{staticClass:"book-price",staticStyle:{color:"red"}},[t._v("$ "+t._s(e.price))])]),o("p",{staticStyle:{"text-align":"center"}},[o("b-button",{on:{click:function(o){return t.addToCart(e.id,e.name,e.price-e.discount,e.image[0])}}},[o("b-icon",{attrs:{icon:"cart","font-scale":"1.5"}})],1),o("b-button",{on:{click:function(o){return t.bookDetail(e.slug)}}},[o("b-icon",{attrs:{icon:"list","font-scale":"1.5"}})],1)],1)])})),0)},a=[],r={name:"Book",props:{books:Array},components:{},methods:{bookDetail:function(t){this.$router.push({name:"Book",params:{slug:t}})},addToCart:function(t,e,o,n,a){var r=this,s={bookId:t,quantity:1,name:e,price:o,img:a};this.$store.dispatch("cart/addBookToCart",s).then((function(t){r.$toast.success(t,{timeout:4e3})})).catch((function(t){r.$toast.error(t,{timeout:4e3})}))},removeFromCart:function(t){this.$store.dispatch("cart/removeBookFromCart",t)}}},s=r,i=(o("79de"),o("2877")),c=Object(i["a"])(s,n,a,!1,null,"0d44f0f3",null);e["a"]=c.exports},cccb:function(t,e,o){"use strict";var n=o("5ced"),a=o.n(n);a.a},ce2a:function(t,e,o){},ecbc:function(t,e,o){"use strict";var n=o("6a91"),a=o.n(n);a.a},f94d:function(t,e,o){"use strict";var n=o("fcd6"),a=o.n(n);a.a},fcd6:function(t,e,o){}});
//# sourceMappingURL=app.06e5c0df.js.map