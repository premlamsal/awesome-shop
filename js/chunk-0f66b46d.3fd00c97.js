(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f66b46d"],{1253:function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("b-container",{staticClass:"bg-white"},[t.render_book_block?e("div",{staticClass:"book-detail-section-first mt-4"},[e("b-row",[e("b-col",{attrs:{md:"4"}},[e("div",{staticClass:"book-image-panel"},[e("div",{staticClass:"pic-box"},[e("ImageZoom",{attrs:{url:t.imageZoomed,scale:3}})],1),e("div",{staticClass:"img-small-nav d-flex justify-content-center"},[e("ul",t._l(t.book.thumb,(function(i){return e("li",{key:i.id},[e("img",{attrs:{src:i},on:{click:function(e){return t.clickToViewImage(i)}}})])})),0)])])]),e("b-col",{attrs:{md:"8"}},[e("div",{staticClass:"book-details-aside-panel"},[e("h3",{staticStyle:{color:"#DC143C"}},[t._v(t._s(t.book.name))]),e("div",{staticClass:"book-rating"},[e("b-form-rating",{staticStyle:{padding:"0px"},attrs:{id:"rating-inline",inline:"",value:t.book.book_star,"no-border":"",color:"orange",readonly:""}})],1),e("h6",[e("a",{staticStyle:{color:"#DC143C"},attrs:{href:"#"}},[t._v("Gangotri Suppliers")])]),0!=t.book.discount?e("div",{staticClass:"mt-2"},[e("p",{staticClass:"book-price"},[e("s",[t._v("$ "+t._s(t.book.price))])]),e("h3",{staticClass:"book-offer-price",staticStyle:{color:"#DC143C"}},[t._v(" $ "+t._s(t.book.price-t.book.discount)+" ")])]):e("div",{staticClass:"mt-2"},[e("h3",{staticStyle:{color:"#DC143C"}},[t._v("Rs. "+t._s(t.book.price))])]),e("div",{staticClass:"book-buttons mt-3"},[e("b-button",{staticClass:"btn-cart",on:{click:function(i){return t.addToCart(t.book.id,t.book.name,t.book.price,t.book.image[0])}}},[e("b-icon",{attrs:{icon:"cart"}}),t._v("Add to Cart ")],1)],1),e("div",{staticClass:"book-details-inside-container mt-4"},[e("div",{staticClass:"book-highligts-info"},[e("b-row",[e("b-col",{attrs:{md:"1"}},[t._v("Highligts")]),e("b-col",{attrs:{md:"5"}},[e("ul",[t._v(" "+t._s(t.book.highligts)+" ")])])],1),e("b-row",{staticClass:"mt-3"},[e("b-col",[t._v(" Location "+t._s(t.book.location)+" ")])],1)],1)])])])],1)],1):t._e(),e("b-row",[e("b-col",[e("div",{staticClass:"book-details-section-second"},[e("div",{staticClass:"tabs"},[e("b-tabs",{attrs:{"content-class":"mt-3",align:"center"}},[e("b-tab",{attrs:{title:"Description",active:""}},[e("h6",[t._v("Book Information")]),t._v(" "+t._s(t.book.description)+" ")]),e("b-tab",{attrs:{title:"Additional Information"}},[t._v(" "+t._s(t.book.more_info)+" ")]),e("b-tab",{attrs:{title:"Shipping & returns"}},[e("h6",[t._v("Delivery & returns")]),t._v(" "+t._s(t.book.shipping_return_info)+" ")]),e("b-tab",{attrs:{title:"Book Reviews"}},[null!=t.book.reviews?e("div",{staticClass:"insider-review-others"},t._l(t.book.reviews,(function(i){return e("b-row",{key:i.id},[e("b-col",{attrs:{md:"2"}},[e("h6",[t._v(t._s(i.user.firstname)+" "+t._s(i.user.lastname))]),e("div",{staticClass:"book-rating"},[e("b-form-rating",{staticStyle:{padding:"0px"},attrs:{id:"rating-inline",inline:"",value:i.rating,"no-border":"",color:"orange",readonly:""}})],1)]),e("b-col",{attrs:{md:"6"}},[e("h6",[t._v(t._s(i.title)+" - "+t._s(i.created_at))]),e("p",[t._v(" "+t._s(i.body)+" ")])])],1)})),1):t._e(),e("div",{staticClass:"inider-review-other-not-available",attrs:{else:""}},[e("h6",[t._v("No reviews yet! Be the first to review this book.")])]),e("hr"),e("b-row",{staticClass:"mt-3"},[e("b-col",{attrs:{md:"2"}},[e("div",{staticClass:"book-rating"},[e("b-form-rating",{staticStyle:{padding:"0px"},attrs:{id:"rating-inline",inline:"","no-border":"",color:"orange"},model:{value:t.my_review.rating,callback:function(i){t.$set(t.my_review,"rating",i)},expression:"my_review.rating"}})],1)]),e("b-col",{attrs:{md:"6"}},[e("b-form-input",{attrs:{placeholder:"Title"},model:{value:t.my_review.title,callback:function(i){t.$set(t.my_review,"title",i)},expression:"my_review.title"}}),e("b-form-textarea",{staticClass:"mt-2",attrs:{id:"textarea",placeholder:"Review in short...",size:"sm"},model:{value:t.my_review.body,callback:function(i){t.$set(t.my_review,"body",i)},expression:"my_review.body"}}),e("b-button",{staticClass:"mt-2 greenBtn",attrs:{variant:"warning"},on:{click:function(i){return t.makeReview()}}},[t._v("Submit")])],1)],1)],1)],1)],1)])])],1),e("b-row",[e("b-col",[e("div",{staticClass:"related-book-panel"},[e("h5",[t._v("You May Also Like")]),e("div",{staticClass:"related-book-container"},[e("book",{attrs:{books:t.books.data}})],1),e("div",{staticClass:"related-book-panel-insider"},[e("b-button",[e("b-icon",{attrs:{icon:"arrow-down"}}),t._v("Load More ")],1)],1)])])],1)],1)},s=[],a=e("5530"),r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:t.id,staticClass:"magnifier-box",class:t.vertical?"vertical":"",on:{mousemove:t.mousemove,mouseover:t.mouseover,mouseleave:t.mouseleave}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showImg,expression:"showImg"}],attrs:{src:t.imgUrl,alt:""}}),e("div",{staticClass:"mouse-cover"}),t.showEidt?e("div",{staticClass:"edit-wrap"},[e("span",{staticClass:"rotate-left",on:{click:function(i){return t.rotate("left")}}}),e("span",{staticClass:"rotate-right",on:{click:function(i){return t.rotate("right")}}})]):t._e()])},n=[],c=(e("c975"),e("a9e3"),{props:{scale:{type:Number,default:2.5},url:{type:String,required:!0},bigUrl:{type:String,default:null},scroll:{type:Boolean,default:!1},showEidt:{type:Boolean,default:!1}},data:function(){return{id:null,cover:null,imgbox:null,imgwrap:null,orginUrl:null,bigImgUrl:null,bigOrginUrl:null,imgUrl:null,img:null,canvas:null,ctx:null,rectTimesX:0,rectTimesY:0,imgTimesX:0,imgTimesY:0,init:!1,step:0,bigStep:0,vertical:!1,showImg:!0}},created:function(){for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=t.length,e="",o=0;o<10;o++)e+=t.charAt(Math.floor(Math.random()*i));this.id=e,this.imgUrl=this.url,this.orginUrl=this.url,this.bigImgUrl=this.bigUrl,this.bigOrginUrl=this.bigUrl},watch:{url:function(t){this.imgUrl=t,this.orginUrl=t,this.initTime()},bigUrl:function(t){this.bigImgUrl=t,this.bigOrginUrl=t,this.initTime()}},mounted:function(){var t=this;this.$nextTick((function(){t.initTime()}))},methods:{initTime:function(){var t=this;this.init=!1;var i,e=this.$refs[this.id];this.imgbox=e,this.cover=e.querySelector(".mouse-cover"),this.cover.style.width=this.imgbox.offsetWidth/this.scale+"px",this.cover.style.height=this.imgbox.offsetHeight/this.scale+"px",this.cover.style.left="-100%",this.cover.style.top="-100%",this.imgwrap=e.querySelector("img"),i=this.bigImgUrl?this.bigImgUrl:this.imgUrl,this.img=new Image,this.img.src=i,this.img.onload=function(){t.rectTimesX=t.imgbox.offsetWidth/t.scale/t.imgwrap.offsetWidth,t.rectTimesY=t.imgbox.offsetHeight/t.scale/t.imgwrap.offsetHeight,t.imgTimesX=t.img.width/t.imgwrap.offsetWidth,t.imgTimesY=t.img.height/t.imgwrap.offsetHeight,t.vertical=t.img.width<t.img.height,t.init=!0},this.canvas&&(this.canvas.parentNode.removeChild(this.canvas),this.canvas=null),this.canvas=document.createElement("canvas"),this.canvas.className="mouse-cover-canvas",this.canvas.style.position="absolute",this.canvas.style.left=this.imgbox.offsetLeft+this.imgbox.offsetWidth+10+"px",this.canvas.style.top=this.imgbox.offsetTop+"px",this.canvas.style.border="1px solid #eee",this.canvas.style.zIndex="99999",this.canvas.height=this.imgbox.offsetHeight,this.canvas.width=this.imgbox.offsetWidth,this.canvas.style.display="none",e.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},initBox:function(){var t=this;this.showImg=!1,this.canvas.style.display="none";var i,e=this.$refs[this.id];i=this.bigImgUrl?this.bigImgUrl:this.imgUrl,this.img=new Image,this.img.src=i,this.img.onload=function(){t.vertical=t.img.width<t.img.height,t.showImg=!0,setTimeout((function(){t.rectTimesX=t.imgbox.offsetWidth/t.scale/e.querySelector("img").offsetWidth,t.rectTimesY=t.imgbox.offsetHeight/t.scale/e.querySelector("img").offsetHeight}),20)}},mousemove:function(t){if(!this.init)return!1;var i=this;function e(t){var i=null,e=null,o=t.offsetParent;i+=t.offsetLeft,e+=t.offsetTop;while(o)-1===navigator.userAgent.indexOf("MSIE 8.0")&&(i+=o.clientLeft,e+=o.clientTop),i+=o.offsetLeft,e+=o.offsetTop,o=o.offsetParent;return{left:i,top:e}}function o(t){return{x:t.clientX-i.cover.offsetWidth/2,y:t.clientY-i.cover.offsetHeight/2}}var s=t||event,a=o(s),r=e(this.imgwrap),n={minX:r.left,maxX:r.left+this.imgwrap.offsetWidth-this.cover.offsetWidth,minY:r.top-document.documentElement.scrollTop,maxY:r.top-document.documentElement.scrollTop+this.imgwrap.offsetHeight-this.cover.offsetHeight};a.x>n.maxX&&(a.x=n.maxX),a.x<n.minX&&(a.x=n.minX),a.y>n.maxY&&(a.y=n.maxY),a.y<n.minY&&(a.y=n.minY),this.cover.style.left=a.x+"px",this.cover.style.top=a.y+"px",this.ctx.clearRect(0,0,this.imgwrap.offsetWidth,this.imgwrap.offsetHeight);var c=a.x-(r.left-document.documentElement.scrollLeft),l=a.y-(r.top-document.documentElement.scrollTop);this.ctx.drawImage(this.img,c*this.imgTimesX,l*this.imgTimesY,this.img.width*this.rectTimesX,this.img.height*this.rectTimesY,0,0,this.imgbox.offsetWidth,this.imgbox.offsetHeight)},mouseover:function(t){if(!this.init)return!1;t=t||event,this.scroll||(t.currentTarget.addEventListener("mousewheel",(function(t){t.preventDefault()}),!1),t.currentTarget.addEventListener("DOMMouseScroll",(function(t){t.preventDefault()}),!1)),this.cover.style.display="block",this.canvas.style.display="block"},mouseleave:function(){if(!this.init)return!1;this.cover.style.display="none",this.canvas.style.display="none"},rotate:function(t){var i=this,e=new Image;if(e.crossOrigin="Anonymous",e.src=this.orginUrl,e.onload=function(){i.rotateImg(e,t,i.step)},this.bigOrginUrl){var o=new Image;e.crossOrigin="Anonymous",o.src=this.bigOrginUrl,o.onload=function(){i.rotateImg(o,t,i.bigStep,!0)}}},rotateImg:function(t,i,e){var o=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=0,r=3;if(null!=t){var n=t.height,c=t.width;null==e&&(e=a),"right"==i?(e++,e>r&&(e=a)):(e--,e<a&&(e=r));var l=document.createElement("canvas"),h=90*e*Math.PI/180,m=l.getContext("2d");switch(l.width=n,l.height=c,m.rotate(h),m.drawImage(t,0,-n),e){case 0:l.width=c,l.height=n,m.drawImage(t,0,0);break;case 1:l.width=n,l.height=c,m.rotate(h),m.drawImage(t,0,-n);break;case 2:l.width=c,l.height=n,m.rotate(h),m.drawImage(t,-c,-n);break;case 3:l.width=n,l.height=c,m.rotate(h),m.drawImage(t,-c,0);break}var d=l.toDataURL();s?(this.bigImgUrl=d,this.bigStep=e,this.initBox()):(this.imgUrl=d,this.step=e,this.$nextTick((function(){o.initBox()})))}}}}),l=c,h=(e("8d4c"),e("2877")),m=Object(h["a"])(l,r,n,!1,null,"4e3bea22",null),d=m.exports,g=e("c71c"),f=e("2f62"),u={components:{ImageZoom:d,Book:g["a"]},data:function(){return{imageZoomed:"",isZoomed:!1,my_review:{title:"",body:"",rating:"5"},avg_rating:"1",book:{},book_slug:"",books:[],render_book_block:!0}},created:function(){this.getIdFromUrl()},mounted:function(){},watch:{$route:function(){this.getIdFromUrl()}},computed:Object(a["a"])({},Object(f["b"])({})),methods:{getIdFromUrl:function(){this.scrollToTop(),this.book_slug=this.$route.params.slug,this.loadBook(this.book_slug),this.relatedBooks()},makeReview:function(){var t=this;this.$Progress.start();var i=new FormData;i.append("title",this.my_review.title),i.append("rating",this.my_review.rating),i.append("body",this.my_review.body),i.append("book_id",this.book.id),i.append("_METHOD","POST"),this.$http.post("https://eshop.test/api/frontend/review",i).then((function(i){t.$toast.success(i.data.msg,{timeout:8e3}),t.my_review.title="",t.my_review.rating="",t.my_review.body="",t.$Progress.finish()})).catch((function(i){t.$toast.error(i.response.data.message,{timeout:4e3}),t.$Progress.fail()}))},addToCart:function(t,i,e,o){var s=this,a={bookId:t,quantity:1,name:i,price:e,img:o};this.$store.dispatch("cart/addBookToCart",a).then((function(t){s.$toast.success(t,{timeout:4e3})})).catch((function(t){s.$toast.error(t,{timeout:4e3})}))},bookDetailParent:function(t){this.loadBook(t)},scrollToTop:function(){window.scrollTo(0,0)},loadBook:function(t){var i=this;this.$Progress.start(),this.$http.get("https://eshop.test/api/frontend/bookDFS/"+t).then((function(t){i.book=t.data.data[0],i.imageZoomed=i.book.image[0],i.$Progress.finish()})).catch((function(t){console.log(t),i.$Progress.fail()}))},relatedBooks:function(t){var i=this,e=t||"https://eshop.test/api/frontend/relatedBooks/"+this.book_slug;this.$http.get(e).then((function(t){i.books=t.data})).catch((function(t){console.log(t)}))},zoomImage:function(t){this.imageZoomed=t,this.isZoomed=!0},zoomOutImage:function(){this.isZoomed=!1},clickToViewImage:function(t){this.imageZoomed=t}}},b=u,v=(e("a7ba"),Object(h["a"])(b,o,s,!1,null,"35529f7f",null));i["default"]=v.exports},"48f7":function(t,i,e){},5899:function(t,i){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,i,e){var o=e("1d80"),s=e("5899"),a="["+s+"]",r=RegExp("^"+a+a+"*"),n=RegExp(a+a+"*$"),c=function(t){return function(i){var e=String(o(i));return 1&t&&(e=e.replace(r,"")),2&t&&(e=e.replace(n,"")),e}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5fdf":function(t,i,e){},7156:function(t,i,e){var o=e("861d"),s=e("d2bb");t.exports=function(t,i,e){var a,r;return s&&"function"==typeof(a=i.constructor)&&a!==e&&o(r=a.prototype)&&r!==e.prototype&&s(t,r),t}},"8d4c":function(t,i,e){"use strict";var o=e("48f7"),s=e.n(o);s.a},a7ba:function(t,i,e){"use strict";var o=e("5fdf"),s=e.n(o);s.a},a9e3:function(t,i,e){"use strict";var o=e("83ab"),s=e("da84"),a=e("94ca"),r=e("6eeb"),n=e("5135"),c=e("c6b6"),l=e("7156"),h=e("c04e"),m=e("d039"),d=e("7c73"),g=e("241c").f,f=e("06cf").f,u=e("9bf2").f,b=e("58a8").trim,v="Number",p=s[v],w=p.prototype,k=c(d(w))==v,y=function(t){var i,e,o,s,a,r,n,c,l=h(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),i=l.charCodeAt(0),43===i||45===i){if(e=l.charCodeAt(2),88===e||120===e)return NaN}else if(48===i){switch(l.charCodeAt(1)){case 66:case 98:o=2,s=49;break;case 79:case 111:o=8,s=55;break;default:return+l}for(a=l.slice(2),r=a.length,n=0;n<r;n++)if(c=a.charCodeAt(n),c<48||c>s)return NaN;return parseInt(a,o)}return+l};if(a(v,!p(" 0o1")||!p("0b1")||p("+0x1"))){for(var _,x=function(t){var i=arguments.length<1?0:t,e=this;return e instanceof x&&(k?m((function(){w.valueOf.call(e)})):c(e)!=v)?l(new p(y(i)),e,x):y(i)},I=o?g(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;I.length>C;C++)n(p,_=I[C])&&!n(x,_)&&u(x,_,f(p,_));x.prototype=w,w.constructor=x,r(s,v,x)}}}]);
//# sourceMappingURL=chunk-0f66b46d.3fd00c97.js.map