(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c020ad50"],{2563:function(e,r,s){},a55b:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("b-col",[s("div",{staticClass:"login mt-5"},[s("h4",[e._v("Login")]),s("b-form",{on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[s("b-input",{staticClass:"mt-4",attrs:{id:"feedback-email",type:"email",placeholder:"Enter email"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}}),s("div",{staticClass:"error-block"},[e.errors.email?s("span",{staticStyle:{color:"red"}},e._l(e.errors.email,(function(r){return s("ul",{key:r},[s("li",[e._v(e._s(r))])])})),0):e._e()]),s("b-input",{staticClass:"mt-4",attrs:{id:"feedback-password",type:"password",placeholder:"Enter password"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}}),s("div",{staticClass:"error-block"},[e.errors.password?s("span",{staticStyle:{color:"red"}},e._l(e.errors.password,(function(r){return s("ul",{key:r},[s("li",[e._v(e._s(r))])])})),0):e._e()]),s("br"),e.error?s("label",{staticClass:"mt-4",staticStyle:{color:"red"},attrs:{for:"error"}},[e._v(" "+e._s(e.error)+" ")]):e._e(),e.showLoginBtn?s("b-button",{staticClass:"mt-2 mb-2",staticStyle:{width:"100%"},attrs:{variant:"danger"},on:{click:e.login}},[e.isLoading?s("b-spinner",{attrs:{"b-spinner":"",small:""}}):e._e(),e._v(" Login ")],1):e._e(),s("br"),s("router-link",{attrs:{to:"/register"}},[e._v("Not registered at? Click here")])],1)],1)])},o=[],a={name:"Login",data:function(){return{user:{email:"",password:""},error:"",errors:[],isLoading:!1}},computed:{showLoginBtn:function(){return!0}},methods:{login:function(){var e=this;this.isLoading=!0,this.$store.dispatch("auth/login",this.user).then((function(r){e.isLoading=!1,e.$router.push("/customer/profile"),e.$http.defaults.headers.common={Authorization:"Bearer ".concat(r.data.access_token)},e.$toast.success("Welcome",{timeout:2e3})})).catch((function(r){e.errors=[],e.error="",e.isLoading=!1,422===r.response.status?e.errors=r.response.data.errors:401===r.response.status&&(e.error=r.response.data.message),e.$toast.error(r.response.data.message,{timeout:2e3})}))}}},i=a,n=(s("e412"),s("2877")),l=Object(n["a"])(i,t,o,!1,null,"566243f4",null);r["default"]=l.exports},e412:function(e,r,s){"use strict";var t=s("2563"),o=s.n(t);o.a}}]);
//# sourceMappingURL=chunk-c020ad50.13c0e119.js.map